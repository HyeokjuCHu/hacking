# 🧠 CPU Scheduling

## 📌 개요

**CPU 스케줄링**은 여러 프로세스가 실행 대기 중일 때, **CPU를 어떤 프로세스에 할당할지 결정하는 작업**입니다.

> 운영체제는 한정된 자원을 효율적으로 나누기 위해 스케줄링 알고리즘을 사용합니다.

---

## 🛠️ 스케줄링의 목적

- **공정성 (Fairness)**: 모든 프로세스가 공평하게 CPU를 배정받아야 함
- **효율성 (Efficiency)**: CPU가 유휴 상태가 되지 않도록 최적화
- **응답 시간 최소화**: 사용자 반응 속도 향상
- **처리량 최대화 (Throughput)**: 단위 시간당 처리되는 프로세스 수 증가
- **무한 연기 방지 (Starvation 방지)**: 낮은 우선순위 프로세스도 eventually 실행 보장
- **예측 가능성 (Predictability)**: 일정한 처리 흐름 유지

---

## 🎛️ 스케줄링의 3가지 수준

| 수준 | 설명 |
|------|------|
| 고수준 (Long-term) | 시스템에 어떤 프로세스를 받아들일지 결정 |
| 중간 수준 (Medium-term) | 프로세스를 임시 보류(Swap-out)하거나 복귀(Swap-in) |
| 저수준 (Short-term) | CPU를 다음에 어떤 프로세스가 사용할지 결정 |

---

## 📂 선점형 vs 비선점형

| 방식 | 설명 |
|------|------|
| 선점형 (Preemptive) | 현재 실행 중인 프로세스를 중단하고 다른 프로세스를 실행 가능 |
| 비선점형 (Non-preemptive) | 한 프로세스가 CPU를 스스로 포기할 때까지 기다림 |

---

## 🧮 주요 스케줄링 알고리즘

### 🟢 FCFS (First Come First Served)
- 도착 순서대로 CPU 할당
- 비선점형
- **단점**: 짧은 작업이 오래 기다릴 수 있음 (Convoy effect)

### 🔵 SJF (Shortest Job First)
- 실행 시간이 가장 짧은 프로세스 우선
- 비선점형
- **단점**: 실행 시간 예측 어려움, Starvation 가능성

### 🔺 SRTF (Shortest Remaining Time First)
- SJF의 선점형 버전
- 실행 시간이 더 짧은 새 프로세스가 도착하면 현재 작업 중단

### 🟣 Round Robin (RR)
- 프로세스마다 **고정된 시간(Time Quantum)**을 부여
- Time Quantum 지나면 강제로 다음 프로세스로 전환
- 선점형
- **장점**: 공정성 보장, 반응 시간 향상

### 🟠 Priority Scheduling
- 우선순위가 높은 프로세스부터 CPU 할당
- 선점형 / 비선점형 모두 가능
- **주의**: 낮은 우선순위는 Starvation 위험 → Aging 기법 사용

### 🧷 Multi-Level Queue
- 프로세스를 우선순위/성격에 따라 여러 큐로 분리
- 큐마다 다른 스케줄링 방식 적용 가능

### 🔁 Multi-Level Feedback Queue
- 프로세스가 큐 간 이동 가능
- **I/O 중심 프로세스에 유리**
- 동적 우선순위 조정으로 효율성 ↑

---

## 🧾 상태 전이 다이어그램

New → Ready → Running → Terminated
↑ ↓
Waiting ← Blocked


- Ready 상태의 프로세스들 사이에서 CPU 스케줄러가 선택

---

## 📊 프로세스 우선순위

- 커널 프로세스 > 일반 사용자 프로세스
- I/O 집중 프로세스 > CPU 집중 프로세스
- 입출력 기다리는 동안 CPU는 다른 작업으로 전환 가능 (효율성 ↑)

---

## 💡 보너스 팁

- `:ps -eo pid,pri,ni,cmd` 로 리눅스에서 프로세스 우선순위 확인 가능
- `nice`, `renice` 명령어로 우선순위 조정 가능

---

## 📚 마무리

CPU 스케줄링은 **운영체제의 핵심 기능 중 하나**로, 다양한 전략과 알고리즘이 존재합니다. 각 알고리즘은 **시스템 환경과 요구사항에 따라 선택**되어야 하며, 스케줄링 정책의 차이가 전체 시스템 성능에 큰 영향을 미칠 수 있습니다.

> ✨ 스케줄링 전략을 잘 이해하면, 시스템 설계나 운영에서 훨씬 더 효율적인 판단을 할 수 있습니다!
